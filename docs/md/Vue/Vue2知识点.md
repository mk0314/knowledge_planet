> ### 什么是 Vue2

Vue2 是一个流行的前端 JavaScript 框架，用于构建用户界面和单页应用程序。以下是 Vue2 的一些基本知识点：

Vue 实例：Vue 应用程序的核心是 Vue 实例。Vue 实例是通过 new Vue()创建的，它包含了 Vue 应用程序的数据、方法、计算属性和生命周期钩子等。在 Vue 实例中，可以通过使用模板语法和绑定指令将数据绑定到 DOM 元素上。

模板语法：Vue 模板语法是一种特殊的 HTML 语法，允许将 Vue 实例的数据绑定到页面中的 DOM 元素上。模板语法使用双大括号{{}}表示，可以在其中使用 Vue 实例的属性或方法。

组件：Vue 应用程序可以被分成多个组件，每个组件都有自己的数据、模板和逻辑。组件可以嵌套在其他组件中，组成一个完整的 Vue 应用程序。在 Vue2 中，组件是通过 Vue.component()方法定义的。

计算属性：计算属性是一种特殊类型的属性，它允许在 Vue 实例中声明一个函数，该函数会根据 Vue 实例的数据动态计算出一个新的值。计算属性具有缓存机制，只有在依赖的数据发生变化时才会重新计算。

生命周期：在 Vue 实例的生命周期中，有多个事件钩子可以被监听和处理。这些钩子函数包括 created、mounted、updated 和 destroyed 等，它们可以在 Vue 实例的不同阶段执行逻辑代码。

指令：指令是 Vue 特有的一种语法，用来描述对 DOM 元素进行的操作。常见的指令包括 v-bind、v-on、v-if、v-for、v-show 等，它们可以在 Vue 模板中使用。

> ### vue2 的响应式原理

Vue2 的响应式原理主要是通过 Object.defineProperty()方法实现的。在 Vue2 中，通过将数据对象传入 Vue 构造函数中，可以将数据对象的属性转换为 getter 和 setter，当数据发生变化时，会触发相应的 getter 或 setter 方法。

具体来说，Vue2 的响应式原理包括以下几个步骤：

1. Vue 通过递归遍历数据对象中的所有属性，并使用 Object.defineProperty()方法将其转换为 getter 和 setter。这样，当该属性被读取或赋值时，都会触发相应的 getter 或 setter 方法。

2. 当数据发生变化时，会触发 setter 方法，并通知依赖该数据的视图更新。具体来说，Vue 中有一个策略模式的 Watcher 类，用于记录数据的变化和依赖关系。当数据发生变化时，Watcher 会根据依赖关系更新相关的视图组件。

3. 在更新视图组件时，Vue2 采用了异步的更新策略，即将多个数据变化合并成一个队列，等待下一个事件循环时批量更新，以提高性能。

总之，Vue2 的响应式原理是通过将数据对象的属性转换为 getter 和 setter 来实现的，当数据发生变化时，会触发相应的 setter 方法，并通知依赖该数据的视图更新。这个过程中还采用了异步更新策略以提高性能。

> ### vue2 组件通信

在 Vue2 中，组件通信的方式主要有以下三种：

1. 父子组件通信：父子组件之间可以通过 props 和 emit 方法实现通信。父组件通过 props 向子组件传递数据，子组件通过
   emit 方法实现通信。父组件通过 props 向子组件传递数据，子组件通过 emit 方法向父组件发送事件。这种方式适用于父子组件之间相对简单的通信场景。

2. 兄弟组件通信：兄弟组件之间可以通过共同的父组件作为中央事件总线来实现通信。具体来说，父组件可以通过 props 向两个兄弟组件传递数据，同时也可以在父组件中定义一个事件总线，兄弟组件通过事件总线来进行通信。

3. 跨层级组件通信：跨层级组件之间可以通过 Vuex 或 provide/inject 方式实现通信。Vuex 是 Vue2 的状态管理库，可以将数据存储在全局的 store 对象中，各个组件可以在需要时通过 store 对象来获取或更新数据。provide/inject 则是 Vue2 中新添加的一种组件通信方式，允许祖先组件向后代组件注入依赖项。

除了以上几种方式，还可以使用事件总线等其他的通信方式，具体根据实际场景选择合适的方式。需要注意的是，在组件通信时应尽量避免直接修改父组件的数据，以及尽量避免过于复杂的嵌套关系，以提高代码的可维护性。

> ### Vue2 生命周期

Vue2 的生命周期钩子函数可以分为 8 个阶段，具体如下：

beforeCreate：在实例被创建之前执行，此时数据和方法都还未初始化，可以在这个阶段进行一些全局设置和组件间通信事件的订阅等操作。

created：在实例创建完成后执行，此时数据已经初始化，但是模板还未编译成 HTML 并挂载到页面上，可以在这个阶段进行一些异步请求或初始化第三方插件等操作。

beforeMount：在模板编译为 HTML 后，但是还未将其挂载到页面上执行，可以在这个阶段访问和操作 Vue 组件的原始 DOM。

mounted：在模板编译为 HTML 并挂载到页面上后执行，此时 Vue 实例已经对 DOM 进行了渲染，并且可以通过 mounted 中的 this.$el 属性获取 Vue 实例所挂载的 DOM 元素，可以在这个阶段进行 dom 操作，比如事件绑定等。

beforeUpdate：在数据更新前执行，此时 Vue 实例尚未重新渲染，可以在这个阶段将数据修改为最新状态，或者进行一些计算属性的操作。

updated：在数据更新完成，并且 Vue 实例重新渲染后执行，此时 DOM 已经更新，可以在这个阶段进行 DOM 操作或者获取计算后的更新后的数据。

beforeDestroy：在 Vue 实例销毁之前执行，此时 Vue 实例仍然可用，可以进行一些销毁前的清理工作。

destroyed：在 Vue 实例销毁之后执行，所有的
[Something went wrong, please try again later.]

生命周期图示 ​

![](https://cn.vuejs.org/assets/lifecycle.16e4c08e.png)

下面是实例生命周期的图表。你现在并不需要完全理解图中的所有内容，但以后它将是一个有用的参考。

组件生命周期图示

有关所有生命周期钩子及其各自用例的详细信息，请参考生命周期钩子 API 索引。
